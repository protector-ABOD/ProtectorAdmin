<template name="AgentListing">
	{{#if currentUser}}
	{{> floatingActionButton}}
	<ul class="nav nav-tabs">
	  <li class="active"><a data-toggle="tab" href="#PendingRequest">Pending Request</a></li>
	  <li><a data-toggle="tab" href="#ShortlistedRequest">Shortlisted Request</a></li>
	  <li><a data-toggle="tab" href="#ApprovedRequest">Approved Request</a></li>
	  <li><a data-toggle="tab" href="#RejectedRequest">Rejected Request</a></li>
	  <li><a data-toggle="tab" href="#KIVRequest">KIV Request</a></li>
	</ul>

	<div class="tab-content">
	  <div id="PendingRequest" class="card tab-pane fade in active">
	  	<div class="card-header">
	  		<div class="card-title">Pending Approval Request</div>
	  	</div>
	  	<div class="card-body">
	  		{{> reactiveTable collection=PendingApprovalAgent settings=PendingApprovalSettings}}
		</div>
	  </div>
	  <div id="ShortlistedRequest" class="card tab-pane fade">
	  	<div class="card-header">
	  		<div class="card-title">Shortlisted Agent Request</div>
	  	</div>
	  	<div class="card-body">
	  		{{> reactiveTable collection=ShortlistedAgent settings=ShortlistedAgentSettings}}
		</div>
	  </div>
	  <div id="ApprovedRequest" class="card tab-pane fade">
	  	<div class="card-header">
	  		<div class="card-title">Approved Agent Request</div>
	  	</div>
	  	<div class="card-body">
	  		{{> reactiveTable collection=ApprovedAgent settings=ApprovedAgentSettings}}
		</div>
	  </div>
	  <div id="RejectedRequest" class="card tab-pane fade">
	  	<div class="card-header">
	  		<div class="card-title">Rejected Agent Request</div>
	  	</div>
	  	<div class="card-body">
	  		{{> reactiveTable collection=RejectedAgent settings=RejectedAgentSettings}}
		</div>
	  </div>
	  <div id="KIVRequest" class="card tab-pane fade">
	  	<div class="card-header">
	  		<div class="card-title">KIV Agent Request</div>
	  	</div>
	  	<div class="card-body">
	  		{{> reactiveTable collection=KIVAgent settings=KIVAgentSettings}}
		</div>
	  </div>
	</div>
	{{/if}}
</template>

<template name="PendingApprovalListAction">
	<button class="btn ShortlistAgent">Shortlist</button>
</template>

<template name="ShortlistListAction">
	<button class="btn ApproveAgent">Approve</button>
	<button class="btn RejectAgent">Reject</button>
	<button class="btn KIVAgent">KIV</button>
</template>

<template name="RequestAgentName">
    <!-- Trigger the modal with a button -->
  <button type="button" class="btn btn-link ViewAgentProfile" data-toggle="modal" data-target="#myModal">{{FullName}}</button>
  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog modal-lg">
    
      <!-- Modal content-->
      <div class="modal-content modal-lg">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">{{FullName}}'s Profile</h4>
        </div>
        <div class="modal-body" style="max-height: 400px; overflow-y: auto;">
        	<ul class="nav nav-tabs">
			  <li class="active"><a data-toggle="tab" href="#AgentProfile">Profile</a></li>
			  <!-- <li><a data-toggle="tab" href="#EmergencyContact">Emergency Contact</a></li> -->
			  <li><a data-toggle="tab" href="#AcademicAchievement">Academic Achievement</a></li>
			  <li><a data-toggle="tab" href="#AgentSkill">Skill</a></li>
			</ul>
			<div class="tab-content" style="max-height: 250px; overflow-y: none;">
				<div id="AgentProfile" class="card tab-pane fade in active">
				  	<div class="card-body">
						<div>
				  			<div class="ProfileLabel">Name</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{SelectedAgent.FullName}}</div>
				  			<!-- <div class="ProfileValue"><input placeholder="Full Name" type="text" class="form-control" id="Name" value={{SelectedAgent.FullName}}></div> -->
			  			</div>
			  			<div>
				  			<div class="ProfileLabel">NRIC</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{SelectedAgent.NRIC}}</div>
			  			</div>
			  			<div>
				  			<div class="ProfileLabel">Gender</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{SelectedAgent.Gender}}</div>
			  			</div>
			  			<div>
				  			<div class="ProfileLabel">Date Of Birth</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{SelectedAgent.DateofBirth}}</div>
			  			</div>
			  			<div>
				  			<div class="ProfileLabel">Race</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{SelectedAgent.Race}}</div>
			  			</div>
			  			<div>
				  			<div class="ProfileLabel">Weight</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{SelectedAgent.Weight}} kg</div>
			  			</div>
			  			<div>
				  			<div class="ProfileLabel">Height</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{SelectedAgent.Height}} cm</div>
			  			</div>
			  			<div>
				  			<div class="ProfileLabel">Contact Number</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{SelectedAgent.MobileNumber}}</div>
			  			</div>
			  			<div>
				  			<div class="ProfileLabel">Email</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{SelectedAgent.Email}}</div>
			  			</div>
					</div>
			    </div>
				<div id="EmergencyContact" class="card tab-pane fade">
				  	<div class="card-body">
				  		{{#each SelectedAgent.EmergencyContact}}
				  		<div>
				  			<div class="ProfileLabel">Name</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{emergencyContactFullName}}</div>
			  			</div>
			  			<div>
				  			<div class="ProfileLabel">Relationship</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{emergencyContactRelationship}}</div>
			  			</div>
			  			<div>
				  			<div class="ProfileLabel">Contact Number</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{emergencyContactMobileNumber}}</div>
			  			</div>
				  		{{/each}}
					</div>
			    </div>
			    <div id="AcademicAchievement" class="card tab-pane fade">
				  	<div class="card-body">
				  		<div>
				  			<div class="ProfileLabel">Highest Qualification</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{SelectedAgent.AcademicAttainment}}</div>
			  			</div>
					</div>
			    </div>
	        	<div id="AgentSkill" class="card tab-pane fade">
				  	<div class="card-body">
				  		{{#each SelectedAgent.Skills}}
				  		<div>
				  			<div class="ProfileLabel">{{SkillName}}</div>
				  			<div class="ProfileColon">: </div>
				  			<div class="ProfileValue">{{Proficiency}}</div>
			  			</div>
				  		{{/each}}
					</div>
			    </div>
		    </div>
        </div>
        <div class="modal-footer">
          	<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>

</template>

<template name="ApprovedListAction" style="min-width:100px;">
	<button class="btn RejectAgent">Reject</button>
	<button class="btn KIVAgent">KIV</button>
</template>

<template name="RejectedListAction">
	<button class="btn ApproveAgent">Approve</button>
	<button class="btn KIVAgent">KIV</button>
</template>

<template name="KIVListAction">
	<button class="btn ApproveAgent">Approve</button>
	<button class="btn RejectAgent">Reject</button>
</template>
