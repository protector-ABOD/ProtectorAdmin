<template name="AgentListing">
	{{#if currentUser}}
	{{> floatingActionButton}}
	<ul class="nav nav-tabs">
	  <li class="active"><a data-toggle="tab" href="#PendingRequest">Pending Request</a></li>
	  <li><a data-toggle="tab" href="#ApprovedRequest">Approved Request</a></li>
	  <li><a data-toggle="tab" href="#RejectedRequest">Rejected Request</a></li>
	  <li><a data-toggle="tab" href="#KIVRequest">KIV Request</a></li>
	</ul>

	<div class="tab-content">
	  <div id="PendingRequest" class="card tab-pane fade in active">
	  	<div class="card-header">
	  		<div class="card-title">Pending Approval Request</div>
	  	</div>
	  	<div class="card-body">
	  		{{> reactiveTable collection=PendingApprovalAgent settings=PendingApprovalSettings}}
		</div>
	  </div>
	  <div id="ApprovedRequest" class="card tab-pane fade">
	  	<div class="card-header">
	  		<div class="card-title">Approved Agent Request</div>
	  	</div>
	  	<div class="card-body">
	  		{{> reactiveTable collection=ApprovedAgent settings=ApprovedAgentSettings}}
		</div>
	  </div>
	  <div id="RejectedRequest" class="card tab-pane fade">
	  	<div class="card-header">
	  		<div class="card-title">Rejected Agent Request</div>
	  	</div>
	  	<div class="card-body">
	  		{{> reactiveTable collection=RejectedAgent settings=RejectedAgentSettings}}
		</div>
	  </div>
	  <div id="KIVRequest" class="card tab-pane fade">
	  	<div class="card-header">
	  		<div class="card-title">KIV Agent Request</div>
	  	</div>
	  	<div class="card-body">
	  		{{> reactiveTable collection=KIVAgent settings=KIVAgentSettings}}
		</div>
	  </div>
	</div>
	{{/if}}
</template>

<template name="PendingApprovalListAction">
	<button class="btn ApproveAgent">Approve</button>
	<button class="btn RejectAgent">Reject</button>
	<button class="btn KIVAgent">KIV</button>
</template>

<template name="RequestAgentName">
    <!-- Trigger the modal with a button -->
  <button type="button" class="btn btn-link ViewAgentProfile" data-toggle="modal" data-target="#myModal">{{First_Name}} {{Last_Name}}</button>
  <!-- <a href="#" class="btn btn-link ViewAgentProfile" data-toggle="modal" data-target="#myModal">{{Name}}</a> -->
  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog modal-lg">
    
      <!-- Modal content-->
      <div class="modal-content modal-lg">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">{{SelectedAgent.First_Name}} {{SelectedAgent.Last_Name}}'s Profile</h4>
        </div>
        <div class="modal-body" style="max-height: 400px; overflow-y: auto;">
        	<ul class="nav nav-tabs">
			  <li class="active"><a data-toggle="tab" href="#AgentProfile">Profile</a></li>
			  <li><a data-toggle="tab" href="#AgentSkill">Skill</a></li>
			</ul>
			<div class="tab-content" style="max-height: 250px; overflow-y: none;">
				<div id="AgentProfile" class="card tab-pane fade in active">
				  	<!-- <div class="card-header">
				  		<div class="card-title">Profile</div>
				  	</div> -->
				  	<div class="card-body">
				  		<p>First Name: {{SelectedAgent.First_Name}}</p>
				  		<p>Last Name: {{SelectedAgent.Last_Name}}</p>
				  		<p>IC Number: {{SelectedAgent.IC_Number}}</p>
			        	<p>Gender: {{SelectedAgent.Gender}}</p>
			        	<p>Date Of Birth: {{SelectedAgent.Date_Of_Birth}}</p>
			        	<p>Contact Number: {{SelectedAgent.Contact_Number}}</p>
			        	<p>Email: {{SelectedAgent.Email}}</p>
					</div>
			    </div>
	        	<div id="AgentSkill" class="card tab-pane fade">
				  	<div class="card-body">
					  	<ul class="nav nav-tabs">
						  <li class="active"><a data-toggle="tab" href="#MartialArt">Martial Arts</a></li>
						  <li><a data-toggle="tab" href="#Firearms">Fire Arms</a></li>
						</ul>
						<div class="tab-content" style="max-height: 150px; overflow-y: auto;">
					  		<div id="MartialArt" class="card tab-pane fade in active">
							  	<div class="card-body">
							  		<p>Taekwondo: {{SelectedAgent.Skill.Proficiency_ID}}</p>
							  		<p>Wushu: {{SelectedAgent.Skill.Proficiency_ID}}</p>
							  		<p>Karate: {{SelectedAgent.Skill.Proficiency_ID}}</p>
						  		</div>
					  		</div>
					  		
				        	<div id="Firearms" class="card tab-pane fade">
							  	<div class="card-body">
							  		<p>Pistol: {{SelectedAgent.Skill[1].Proficient_ID}}</p>
							  		<p>Shotgun: {{SelectedAgent.Skill[1].Proficient_ID}}</p>
							  		<p>Sub Machine: {{SelectedAgent.Skill[1].Proficient_ID}}</p>
							  		<p>Rifle: {{SelectedAgent.Skill[1].Proficient_ID}}</p>
						  		</div>
					  		</div>
				  		</div>
					</div>
			    </div>
		    </div>

          <!-- <p>{{SelectedAgent.Name}}</p> -->
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>

</template>

<template name="ApprovedListAction" style="min-width:100px;">
	<button class="btn RejectAgent">Reject</button>
	<button class="btn KIVAgent">KIV</button>
</template>

<template name="RejectedListAction">
	<button class="btn ApproveAgent">Approve</button>
	<button class="btn KIVAgent">KIV</button>
</template>

<template name="KIVListAction">
	<button class="btn ApproveAgent">Approve</button>
	<button class="btn RejectAgent">Reject</button>
</template>

<template name="ModalContent">
	<!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Modal Header</h4>
      </div>
      <div class="modal-body">
        <p>{{Name}}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
</template>